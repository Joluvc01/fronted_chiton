<div class="container">
    <form [formGroup]="formCategory" (ngSubmit)="enviar()">
        <div class="mb-3">
            <label for="name" class="form-label">Nombre</label>
            <input [ngClass]="{'is-invalid':hasErrors('name', 'required') || hasErrors('name', 'minlength')}" 
            type="text" class="form-control" id="name" formControlName="name" />
            <div class="text-danger" *ngIf="hasErrors('name', 'required')">Nombre Requerido</div>
            <div class="text-danger" *ngIf="hasErrors('name', 'minlength')">Nombre Requiere minimo 3 caracteres</div>
            <div class="text-danger" *ngIf="hasErrors('name', 'exists') && formCategory.get('name')?.value !== category?.name">El nombre ya estÃ¡ en uso</div>
        </div>
        <br>
        <button type="submit" class="btn btn-primary me-3" 
        [disabled]="formCategory.invalid || hasErrors('name', 'exists') || formCategory.get('name')?.value === category?.name">
        Guardar
        </button>
        <button *ngIf="isEditMode" type="button" class="btn btn-warning me-3" (click)="status()">
        Cambiar Estado</button>
        <button *ngIf="isEditMode" type="button" class="btn btn-danger me-3" (click)="eliminarCategoria()">
        Eliminar</button>      
        <br>
        <br>  
        <button type="button" class="btn btn-primary me-3" [routerLink]="['/categories']">Volver al Listado</button>
    </form>
</div>
